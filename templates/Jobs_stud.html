<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js"
        integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js"
        integrity="sha384-Y4oOpwW3duJdCWv5ly8SCFYWqFDsfob/3GkgExXKV4idmbt98QcxXYs9UoXAB7BZ"
        crossorigin="anonymous"></script>

    <!-- Local Files -->
    <link rel="stylesheet" href="/static/Main.css">
    <title>DevHire - Jobs</title>

</head>

<body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary lead">
        <div class="container-fluid">
            <a class="navbar-brand" onclick="window.location.href='/'">
                <img src="./Logo.png" alt="Logo" width="auto" height="55" style="margin: 0px 26px;"
                    class="d-inline-block align-text-top">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse Navbar-section01" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item ">
                        <a class="nav-link" aria-current="page" onclick="window.location.href='/'">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/jobs_stud">Jobs</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" onclick="window.location.href='/our_team'">Our Team</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="TeamHeading container-fluid display-1 text-center">JOBS</div>
    <hr>
    <div class="container TeamDiv">
        <!-- Add more cards here -->
        <div class="card" style="width: 12.7rem;">
            <p class="card-description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quam, beatae aliquam.
                Inventore, similique, earum, consequatur vero labore aut itaque aliquam ipsam impedit nulla ea doloremque
                aperiam quaerat fugiat repellendus explicabo! Impedit rem at magnam ea. Porro, saepe, ullam voluptates
                delectus natus, eum aperiam dicta dignissimos consectetur soluta eaque doloremque illum nesciunt!
                Architecto deserunt consequatur dolor laborum laudantium eligendi a at. Temporibus totam ad quisquam id
                asperiores magni ducimus molestias mollitia? Molestias soluta eligendi, reprehenderit aspernatur
                perspiciatis corrupti deleniti nobis fugit quos! Obcaecati numquam autem, accusantium placeat sunt ad
                cupiditate ducimus! Fuga nisi voluptatibus sequi nesciunt tempora neque molestias obcaecati illo. Ipsam
                ex aspernatur expedita, debitis quasi numquam, cupiditate sed sit excepturi vitae facilis nulla qui nisi
                iure. Quidem, placeat vitae! Rem eaque esse ipsum, repellat dicta quibusdam iure amet pariatur ducimus
                dolor magnam alias eos itaque natus unde sint odio consequatur deserunt provident rerum assumenda
                voluptate, maiores sunt nulla? Labore.</p>
            <div class="card-body">
                <h5 class="card-title">Gaditek</h5>
                <p class="card-text">FrontEnd Developer</p>
            </div>
        </div>
        <div class="card" style="width: 12.7rem;">
            <p class="card-description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quam, beatae aliquam.
                Inventore, similique, earum, consequatur vero labore aut itaque aliquam ipsam impedit nulla ea doloremque
                aperiam quaerat fugiat repellendus explicabo! Impedit rem at magnam ea. Porro, saepe, ullam voluptates
                delectus natus, eum aperiam dicta dignissimos consectetur soluta eaque doloremque illum nesciunt!
                Architecto deserunt consequatur dolor laborum laudantium eligendi a at. Temporibus totam ad quisquam id
                asperiores magni ducimus molestias mollitia? Molestias soluta eligendi, reprehenderit aspernatur
                perspiciatis corrupti deleniti nobis fugit quos! Obcaecati numquam autem, accusantium placeat sunt ad
                cupiditate ducimus! Fuga nisi voluptatibus sequi nesciunt tempora neque molestias obcaecati illo. Ipsam
                ex aspernatur expedita, debitis quasi numquam, cupiditate sed sit excepturi vitae facilis nulla qui nisi
                iure. Quidem, placeat vitae! Rem eaque esse ipsum, repellat dicta quibusdam iure amet pariatur ducimus
                dolor magnam alias eos itaque natus unde sint odio consequatur deserunt provident rerum assumenda
                voluptate, maiores sunt nulla? Labore.</p>
            <div class="card-body">
                <h5 class="card-title">Gaditek</h5>
                <p class="card-text">FrontEnd Developer</p>
            </div>
        </div>
        <div class="card" style="width: 12.7rem;">
            <p class="card-description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quam, beatae aliquam.
                Inventore, similique, earum, consequatur vero labore aut itaque aliquam ipsam impedit nulla ea doloremque
                aperiam quaerat fugiat repellendus explicabo! Impedit rem at magnam ea. Porro, saepe, ullam voluptates
                delectus natus, eum aperiam dicta dignissimos consectetur soluta eaque doloremque illum nesciunt!
                Architecto deserunt consequatur dolor laborum laudantium eligendi a at. Temporibus totam ad quisquam id
                asperiores magni ducimus molestias mollitia? Molestias soluta eligendi, reprehenderit aspernatur
                perspiciatis corrupti deleniti nobis fugit quos! Obcaecati numquam autem, accusantium placeat sunt ad
                cupiditate ducimus! Fuga nisi voluptatibus sequi nesciunt tempora neque molestias obcaecati illo. Ipsam
                ex aspernatur expedita, debitis quasi numquam, cupiditate sed sit excepturi vitae facilis nulla qui nisi
                iure. Quidem, placeat vitae! Rem eaque esse ipsum, repellat dicta quibusdam iure amet pariatur ducimus
                dolor magnam alias eos itaque natus unde sint odio consequatur deserunt provident rerum assumenda
                voluptate, maiores sunt nulla? Labore.</p>
            <div class="card-body">
                <h5 class="card-title">Gaditek</h5>
                <p class="card-text">FrontEnd Developer</p>
            </div>
        </div>
        <div class="card" style="width: 12.7rem;">
            <p class="card-description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quam, beatae aliquam.
                Inventore, similique, earum, consequatur vero labore aut itaque aliquam ipsam impedit nulla ea doloremque
                aperiam quaerat fugiat repellendus explicabo! Impedit rem at magnam ea. Porro, saepe, ullam voluptates
                delectus natus, eum aperiam dicta dignissimos consectetur soluta eaque doloremque illum nesciunt!
                Architecto deserunt consequatur dolor laborum laudantium eligendi a at. Temporibus totam ad quisquam id
                asperiores magni ducimus molestias mollitia? Molestias soluta eligendi, reprehenderit aspernatur
                perspiciatis corrupti deleniti nobis fugit quos! Obcaecati numquam autem, accusantium placeat sunt ad
                cupiditate ducimus! Fuga nisi voluptatibus sequi nesciunt tempora neque molestias obcaecati illo. Ipsam
                ex aspernatur expedita, debitis quasi numquam, cupiditate sed sit excepturi vitae facilis nulla qui nisi
                iure. Quidem, placeat vitae! Rem eaque esse ipsum, repellat dicta quibusdam iure amet pariatur ducimus
                dolor magnam alias eos itaque natus unde sint odio consequatur deserunt provident rerum assumenda
                voluptate, maiores sunt nulla? Labore.</p>
            <div class="card-body">
                <h5 class="card-title">Gaditek</h5>
                <p class="card-text">FrontEnd Developer</p>
            </div>
        </div>
        <div class="card" style="width: 12.7rem;">
            <p class="card-description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quam, beatae aliquam.
                Inventore, similique, earum, consequatur vero labore aut itaque aliquam ipsam impedit nulla ea doloremque
                aperiam quaerat fugiat repellendus explicabo! Impedit rem at magnam ea. Porro, saepe, ullam voluptates
                delectus natus, eum aperiam dicta dignissimos consectetur soluta eaque doloremque illum nesciunt!
                Architecto deserunt consequatur dolor laborum laudantium eligendi a at. Temporibus totam ad quisquam id
                asperiores magni ducimus molestias mollitia? Molestias soluta eligendi, reprehenderit aspernatur
                perspiciatis corrupti deleniti nobis fugit quos! Obcaecati numquam autem, accusantium placeat sunt ad
                cupiditate ducimus! Fuga nisi voluptatibus sequi nesciunt tempora neque molestias obcaecati illo. Ipsam
                ex aspernatur expedita, debitis quasi numquam, cupiditate sed sit excepturi vitae facilis nulla qui nisi
                iure. Quidem, placeat vitae! Rem eaque esse ipsum, repellat dicta quibusdam iure amet pariatur ducimus
                dolor magnam alias eos itaque natus unde sint odio consequatur deserunt provident rerum assumenda
                voluptate, maiores sunt nulla? Labore.</p>
            <div class="card-body">
                <h5 class="card-title">Gaditek</h5>
                <p class="card-text">FrontEnd Developer</p>
            </div>
        </div>
        <div class="card" style="width: 12.7rem;">
            <p class="card-description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quam, beatae aliquam.
                Inventore, similique, earum, consequatur vero labore aut itaque aliquam ipsam impedit nulla ea doloremque
                aperiam quaerat fugiat repellendus explicabo! Impedit rem at magnam ea. Porro, saepe, ullam voluptates
                delectus natus, eum aperiam dicta dignissimos consectetur soluta eaque doloremque illum nesciunt!
                Architecto deserunt consequatur dolor laborum laudantium eligendi a at. Temporibus totam ad quisquam id
                asperiores magni ducimus molestias mollitia? Molestias soluta eligendi, reprehenderit aspernatur
                perspiciatis corrupti deleniti nobis fugit quos! Obcaecati numquam autem, accusantium placeat sunt ad
                cupiditate ducimus! Fuga nisi voluptatibus sequi nesciunt tempora neque molestias obcaecati illo. Ipsam
                ex aspernatur expedita, debitis quasi numquam, cupiditate sed sit excepturi vitae facilis nulla qui nisi
                iure. Quidem, placeat vitae! Rem eaque esse ipsum, repellat dicta quibusdam iure amet pariatur ducimus
                dolor magnam alias eos itaque natus unde sint odio consequatur deserunt provident rerum assumenda
                voluptate, maiores sunt nulla? Labore.</p>
            <div class="card-body">
                <h5 class="card-title">Gaditek</h5>
                <p class="card-text">FrontEnd Developer</p>
            </div>
        </div>
        <div class="card" style="width: 12.7rem;">
            <p class="card-description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quam, beatae aliquam.
                Inventore, similique, earum, consequatur vero labore aut itaque aliquam ipsam impedit nulla ea doloremque
                aperiam quaerat fugiat repellendus explicabo! Impedit rem at magnam ea. Porro, saepe, ullam voluptates
                delectus natus, eum aperiam dicta dignissimos consectetur soluta eaque doloremque illum nesciunt!
                Architecto deserunt consequatur dolor laborum laudantium eligendi a at. Temporibus totam ad quisquam id
                asperiores magni ducimus molestias mollitia? Molestias soluta eligendi, reprehenderit aspernatur
                perspiciatis corrupti deleniti nobis fugit quos! Obcaecati numquam autem, accusantium placeat sunt ad
                cupiditate ducimus! Fuga nisi voluptatibus sequi nesciunt tempora neque molestias obcaecati illo. Ipsam
                ex aspernatur expedita, debitis quasi numquam, cupiditate sed sit excepturi vitae facilis nulla qui nisi
                iure. Quidem, placeat vitae! Rem eaque esse ipsum, repellat dicta quibusdam iure amet pariatur ducimus
                dolor magnam alias eos itaque natus unde sint odio consequatur deserunt provident rerum assumenda
                voluptate, maiores sunt nulla? Labore.</p>
            <div class="card-body">
                <h5 class="card-title">Gaditek</h5>
                <p class="card-text">FrontEnd Developer</p>
            </div>
        </div>
        <div class="card" style="width: 12.7rem;">
            <p class="card-description">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quam, beatae aliquam.
                Inventore, similique, earum, consequatur vero labore aut itaque aliquam ipsam impedit nulla ea doloremque
                aperiam quaerat fugiat repellendus explicabo! Impedit rem at magnam ea. Porro, saepe, ullam voluptates
                delectus natus, eum aperiam dicta dignissimos consectetur soluta eaque doloremque illum nesciunt!
                Architecto deserunt consequatur dolor laborum laudantium eligendi a at. Temporibus totam ad quisquam id
                asperiores magni ducimus molestias mollitia? Molestias soluta eligendi, reprehenderit aspernatur
                perspiciatis corrupti deleniti nobis fugit quos! Obcaecati numquam autem, accusantium placeat sunt ad
                cupiditate ducimus! Fuga nisi voluptatibus sequi nesciunt tempora neque molestias obcaecati illo. Ipsam
                ex aspernatur expedita, debitis quasi numquam, cupiditate sed sit excepturi vitae facilis nulla qui nisi
                iure. Quidem, placeat vitae! Rem eaque esse ipsum, repellat dicta quibusdam iure amet pariatur ducimus
                dolor magnam alias eos itaque natus unde sint odio consequatur deserunt provident rerum assumenda
                voluptate, maiores sunt nulla? Labore.</p>
            <div class="card-body">
                <h5 class="card-title">Gaditek</h5>
                <p class="card-text">FrontEnd Developer</p>
            </div>
        </div>
    </div>
    <!-- Modal Box -->
    <div class="modal fade" id="jobModal" tabindex="-1" aria-labelledby="jobModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header d-flex justify-content-between">
                    <h5 class="modal-title" id="jobModalLabel">Job Description</h5>
                    <button type="button" class="btn btn-primary" id="editBtn">Edit</button>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                
                <div class="modal-body" id="jobModalBody">
                    <!-- Content will be dynamically populated here -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary giveInterviewBtn" id="giveInterviewBtn">Give Interview</button>
                </div>
            </div>
        </div>
    </div>
    <!-- Button with write icon at bottom right -->
    <button type="button" class="btn btn-primary write-btn position-fixed bottom-0 end-0" data-bs-toggle="modal" data-bs-target="#addJobModal">
        <i class="bi bi-pencil-fill"></i>
    </button>

    <!-- Modal for adding new job -->
    <div class="modal fade" id="addJobModal" tabindex="-1" aria-labelledby="addJobModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addJobModalLabel">Add Job</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="roleInput" class="form-label">Role</label>
                        <input type="text" class="form-control" id="roleInput">
                    </div>
                    <div class="mb-3">
                        <label for="descriptionInput" class="form-label">Description</label>
                        <textarea class="form-control" id="descriptionInput" rows="3"></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="saveJobBtnAdd">Save</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for editing exisitng job -->
    <div class="modal fade" id="editJobModal" tabindex="-1" aria-labelledby="editJobModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="editJobModalLabel">Edit Job</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="roleInput" class="form-label">Role</label>
                        <input type="text" class="form-control" id="EroleInput">
                    </div>
                    <div class="mb-3">
                        <label for="descriptionInput" class="form-label">Description</label>
                        <textarea class="form-control" id="EdescriptionInput" rows="3"></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" id="saveJobBtnEdit">Save</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Attach event listeners to existing job cards
            attachEventListenersToJobCards();

            // Function to handle editing of role and description
            function handleEditButtonClick(title, role, description) {
                // Populate the modal with current role and description
                document.getElementById('EroleInput').value = role;
                document.getElementById('EdescriptionInput').value = description;

                // Show the modal for editing
                const modal = new bootstrap.Modal(document.getElementById('editJobModal'));
                modal.show();

                // Event listener for "Save Changes" button inside the modal
                document.getElementById('saveJobBtnEdit').addEventListener('click', function () {
                    // Retrieve edited role and description from inputs
                    const editedRole = document.getElementById('EroleInput').value.trim();
                    const editedDescription = document.getElementById('EdescriptionInput').value.trim();

                    // Find the card element containing the specified title
                    const cards = document.querySelectorAll('.card');
                    let selectedCard = null;
                    cards.forEach(card => {
                        const cardTitle = card.querySelector('.card-title');
                        if (cardTitle && cardTitle.textContent.trim() === title) {
                            selectedCard = card;
                        }
                    });

                    // Check if a matching card was found
                    if (selectedCard) {
                        // Update the role and description of the card
                        const cardText = selectedCard.querySelector('.card-text');
                        const cardDescription = selectedCard.querySelector('.card-description');
                        if (cardText && cardDescription) {
                            cardText.textContent = editedRole;
                            cardDescription.textContent = editedDescription;
                        }
                    }


                    // Close the modal
                    modal.hide();

                    // Clear input fields for next use
                    document.getElementById('EroleInput').value = '';
                    document.getElementById('EdescriptionInput').value = '';
                });
            }

            // Function to attach event listeners to job cards
            function attachEventListenersToJobCards() {
                document.querySelectorAll('.card').forEach(card => {
                    card.addEventListener('click', function () {
                        const title = this.querySelector('.card-title').textContent.trim();
                        const role = this.querySelector('.card-text').textContent.trim();
                        const description = this.querySelector('.card-description').textContent.trim();

                        // Construct the content to display in the modal
                        const modalContent = `<h5>${title}</h5>
                                            <p><strong>Role:</strong> ${role}</p>
                                            <hr>
                                            <p>${description}</p>`;

                        // Set the content in the modal body
                        document.getElementById('jobModalBody').innerHTML = modalContent;

                        // Show the modal
                        const modal = new bootstrap.Modal(document.getElementById('jobModal'));
                        modal.show();

                        // Event listener for "Edit" button inside the modal
                        document.getElementById('editBtn').addEventListener('click', function () {
                            // Call function to handle editing of role and description
                            handleEditButtonClick(title, role, description);
                        });

                        document.getElementById('giveInterviewBtn').addEventListener('click', function () {
                            const encodedTitle = encodeURIComponent(title);
                            const encodedRole = encodeURIComponent(role);
                            const encodedJobDescription = encodeURIComponent(description);

                            // Store data in local storage
                            localStorage.setItem('job_description', encodedJobDescription);
                            localStorage.setItem('title', encodedTitle);
                            localStorage.setItem('role', encodedRole);

                            // Redirect to interview API to reach InterviewBot.html
                            window.location.href = "/interview";
                        });
                    });
                });
            }

            // Event listener for clicking the save button
            document.getElementById('saveJobBtnAdd').addEventListener('click', function () {
                // Retrieve role and description from inputs
                const description = document.getElementById('descriptionInput').value.trim();
                const company_name = "Gaditek";
                const role = document.getElementById('roleInput').value.trim();

                if (role !== '' && description !== '') {
                    // Create a new card with the entered data
                    const newCard = `
                        <div class="card" style="width: 12.7rem;">
                            <p class="card-description">${description}</p>
                            <div class="card-body">
                                <h5 class="card-title">${company_name}</h5>
                                <p class="card-text">${role}</p>
                            </div>
                        </div>
                    `;

                    // Append the new card to the container
                    document.querySelector('.TeamDiv').innerHTML += newCard;

                    // Close the modal
                    const modal = bootstrap.Modal.getInstance(document.getElementById('addJobModal'));
                    modal.hide();

                    // Clear input fields for next use
                    document.getElementById('roleInput').value = '';
                    document.getElementById('descriptionInput').value = '';

                    // Attach event listeners to the newly added job card
                    attachEventListenersToJobCards();
                } else {
                    alert('Please enter both role and description.');
                }
            });
        });
    </script>
        
        
</body>

</html>
